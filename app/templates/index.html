{% extends 'base.html' %}

{% block title %}Home - TanzaniaHub{% endblock %}

{% block content %}
<div class="container">
    <h1 class="mt-4 text-center">Welcome to TanzaniaHub</h1>

    <!-- Search & Filter Form -->
    <form method="GET" action="{{ url_for('home') }}" class="mt-4">
        <div class="row">
            <div class="col-md-6">
                <input type="text" name="query" class="form-control" placeholder="Search jobs or properties">
            </div>
            <div class="col-md-3">
                <select name="filter_type" class="form-control">
                    <option value="all" {% if request.args.get('filter_type') == 'all' %}selected{% endif %}>All</option>
                    <option value="jobs" {% if request.args.get('filter_type') == 'jobs' %}selected{% endif %}>Jobs</option>
                    <option value="properties" {% if request.args.get('filter_type') == 'properties' %}selected{% endif %}>Properties</option>
                </select>
            </div>
            <div class="col-md-3">
                <button type="submit" class="btn btn-primary w-100">Search</button>
            </div>
        </div>
    </form>

    <!-- Jobs Section -->
    <h2 class="mt-4">Latest Jobs</h2>
    <div class="list-group">
        {% for job in jobs %}
            <a href="#" class="list-group-item list-group-item-action">
                <strong>{{ job.title }}</strong> at {{ job.company }} - {{ job.location }}
            </a>
        {% else %}
            <p class="text-muted">No jobs available.</p>
        {% endfor %}
    </div>

    <!-- Properties Section -->
    <h2 class="mt-4">Latest Properties</h2>
    <div class="list-group">
        {% for property in properties %}
            <a href="#" class="list-group-item list-group-item-action">
                <strong>{{ property.title }}</strong> - {{ property.location }} - {{ property.price }}
            </a>
        {% else %}
            <p class="text-muted">No properties available.</p>
        {% endfor %}
    </div>
</div>
{% endblock %}
